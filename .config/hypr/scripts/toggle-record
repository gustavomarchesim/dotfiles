#!/bin/bash

VIDEO_DIR="$HOME/Videos"
mkdir -p "$VIDEO_DIR"
FILENAME="$(date +'%Y-%m-%d_%H-%M-%S').mp4"
FULL_PATH="$VIDEO_DIR/$FILENAME"

if pgrep -x wf-recorder >/dev/null; then
  pkill -INT wf-recorder
  notify-send "ğŸ¥ GravaÃ§Ã£o finalizada"
  echo "[âœ”] GravaÃ§Ã£o parada."
else
  wf-recorder -g "$(slurp)" -f "$FULL_PATH" &
  disown
  notify-send "ğŸ”´ Gravando tela..." "Salvando em: $FULL_PATH"
  echo "[â—] GravaÃ§Ã£o iniciada: $FULL_PATH"
fi
